(this["webpackJsonpactiveui-plugin-plotly-chloropleth-map"]=this["webpackJsonpactiveui-plugin-plotly-chloropleth-map"]||[]).push([[2],{1464:function(t,r,e){"use strict";t.exports=i;var a=e(846).distinctVals,n=e(873).BADNUM;function i(t,r){this.traces=t,this.sepNegVal=r.sepNegVal,this.overlapNoMerge=r.overlapNoMerge;for(var e=1/0,i=[],o=0;o<t.length;o++){for(var s=t[o],f=0;f<s.length;f++){var p=s[f];p.p!==n&&i.push(p.p)}s[0]&&s[0].width1&&(e=Math.min(s[0].width1,e))}this.positions=i;var h=a(i,{unitMinDiff:r.unitMinDiff});this.distinctPositions=h.vals,1===h.vals.length&&e!==1/0?this.minDiff=e:this.minDiff=Math.min(h.minDiff,e),this.binWidth=this.minDiff,this.bins={}}i.prototype.put=function(t,r){var e=this.getLabel(t,r),a=this.bins[e]||0;return this.bins[e]=a+r,a},i.prototype.get=function(t,r){var e=this.getLabel(t,r);return this.bins[e]||0},i.prototype.getLabel=function(t,r){return(r<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?t:Math.round(t/this.binWidth))}},958:function(t,r,e){"use strict";var a=e(861),n=e(846).isArrayOrTypedArray,i=e(873).BADNUM,o=e(851),s=e(864),f=e(983).getAxisGroup,p=e(1464);function h(t,r,e,o,h){if(o.length){var x,w,M,_;switch(function(t,r){var e,i;for(e=0;e<r.length;e++){var o,s=r[e],f=s[0].trace,p="funnel"===f.type?f._base:f.base,h="h"===f.orientation?f.xcalendar:f.ycalendar,l="category"===t.type||"multicategory"===t.type?function(){return null}:t.d2c;if(n(p)){for(i=0;i<Math.min(p.length,s.length);i++)o=l(p[i],0,h),a(o)?(s[i].b=+o,s[i].hasB=1):s[i].b=0;for(;i<s.length;i++)s[i].b=0}else{o=l(p,0,h);var c=a(o);for(o=c?o:0,i=0;i<s.length;i++)s[i].b=o,c&&(s[i].hasB=1)}}}(e,o),h.mode){case"overlay":l(r,e,o,h);break;case"group":for(x=[],w=[],M=0;M<o.length;M++)void 0===(_=o[M])[0].trace.offset?w.push(_):x.push(_);w.length&&function(t,r,e,a,n){var o=new p(a,{sepNegVal:!1,overlapNoMerge:!n.norm});(function(t,r,e,a){for(var n=t._fullLayout,i=e.positions,o=e.distinctPositions,s=e.minDiff,p=e.traces,h=p.length,l=i.length!==o.length,c=s*(1-a.gap),d=f(n,r._id)+p[0][0].trace.orientation,b=n._alignmentOpts[d]||{},m=0;m<h;m++){var y,x,w=p[m],M=w[0].trace,_=b[M.alignmentgroup]||{},A=Object.keys(_.offsetGroups||{}).length,D=(y=A?c/A:l?c/h:c)*(1-(a.groupgap||0));x=A?((2*M._offsetIndex+1-A)*y-D)/2:l?((2*m+1-h)*y-D)/2:-D/2;var N=w[0].t;N.barwidth=D,N.poffset=x,N.bargroupwidth=c,N.bardelta=s}e.binWidth=p[0][0].t.barwidth/100,u(e),g(r,e),v(r,e,l)})(t,r,o,n),function(t){for(var r=t.traces,e=0;e<r.length;e++){var a=r[e];if(void 0===a[0].trace.base)for(var n=new p([a],{sepNegVal:!0,overlapNoMerge:!0}),o=0;o<a.length;o++){var s=a[o];if(s.p!==i){var f=n.put(s.p,s.b+s.s);f&&(s.b=f)}}}}(o),n.norm?(b(o),m(e,o,n)):d(e,o)}(t,r,e,w,h),x.length&&l(r,e,x,h);break;case"stack":case"relative":for(x=[],w=[],M=0;M<o.length;M++)void 0===(_=o[M])[0].trace.base?w.push(_):x.push(_);w.length&&function(t,r,e,a,n){var o=new p(a,{sepNegVal:"relative"===n.mode,overlapNoMerge:!(n.norm||"stack"===n.mode||"relative"===n.mode)});c(r,o,n),function(t,r,e){var a,n,o,f,p,h,l=y(t),c=r.traces;for(f=0;f<c.length;f++)if(a=c[f],"funnel"===(n=a[0].trace).type)for(p=0;p<a.length;p++)(h=a[p]).s!==i&&r.put(h.p,-.5*h.s);for(f=0;f<c.length;f++){a=c[f],n=a[0].trace,o="funnel"===n.type;var u=[];for(p=0;p<a.length;p++)if((h=a[p]).s!==i){var g;g=o?h.s:h.s+h.b;var v=r.put(h.p,g),d=v+g;h.b=v,h[l]=d,e.norm||(u.push(d),h.hasB&&u.push(v))}e.norm||(n._extremes[t._id]=s.findExtremes(t,u,{tozero:!0,padded:!0}))}}(e,o,n);for(var f=0;f<a.length;f++)for(var h=a[f],l=0;l<h.length;l++){var u=h[l];if(u.s!==i)u.b+u.s===o.get(u.p,u.s)&&(u._outmost=!0)}n.norm&&m(e,o,n)}(0,r,e,w,h),x.length&&l(r,e,x,h)}!function(t,r){var e,n,i,o=y(r),s={},f=1/0,p=-1/0;for(e=0;e<t.length;e++)for(i=t[e],n=0;n<i.length;n++){var h=i[n].p;a(h)&&(f=Math.min(f,h),p=Math.max(p,h))}var l=1e4/(p-f),c=s.round=function(t){return String(Math.round(l*(t-f)))};for(e=0;e<t.length;e++){(i=t[e])[0].t.extents=s;var u=i[0].t.poffset,g=Array.isArray(u);for(n=0;n<i.length;n++){var v=i[n],d=v[o]-v.w/2;if(a(d)){var b=v[o]+v.w/2,m=c(v.p);s[m]?s[m]=[Math.min(d,s[m][0]),Math.max(b,s[m][1])]:s[m]=[d,b]}v.p0=v.p+(g?u[n]:u),v.p1=v.p0+v.w,v.s0=v.b,v.s1=v.s0+v.s}}}(o,r)}}function l(t,r,e,a){for(var n=0;n<e.length;n++){var i=e[n],o=new p([i],{unitMinDiff:a.xCat||a.yCat,sepNegVal:!1,overlapNoMerge:!a.norm});c(t,o,a),a.norm?(b(o),m(r,o,a)):d(r,o)}}function c(t,r,e){for(var a=r.minDiff,n=r.traces,i=a*(1-e.gap),o=i*(1-(e.groupgap||0)),s=-o/2,f=0;f<n.length;f++){var p=n[f][0].t;p.barwidth=o,p.poffset=s,p.bargroupwidth=i,p.bardelta=a}r.binWidth=n[0][0].t.barwidth/100,u(r),g(t,r),v(t,r)}function u(t){var r,e,i=t.traces;for(r=0;r<i.length;r++){var o,s=i[r],f=s[0],p=f.trace,h=f.t,l=p._offset||p.offset,c=h.poffset;if(n(l)){for(o=Array.prototype.slice.call(l,0,s.length),e=0;e<o.length;e++)a(o[e])||(o[e]=c);for(e=o.length;e<s.length;e++)o.push(c);h.poffset=o}else void 0!==l&&(h.poffset=l);var u=p._width||p.width,g=h.barwidth;if(n(u)){var v=Array.prototype.slice.call(u,0,s.length);for(e=0;e<v.length;e++)a(v[e])||(v[e]=g);for(e=v.length;e<s.length;e++)v.push(g);if(h.barwidth=v,void 0===l){for(o=[],e=0;e<s.length;e++)o.push(c+(g-v[e])/2);h.poffset=o}}else void 0!==u&&(h.barwidth=u,void 0===l&&(h.poffset=c+(g-u)/2))}}function g(t,r){for(var e=r.traces,a=y(t),n=0;n<e.length;n++)for(var i=e[n],o=i[0].t,s=o.poffset,f=Array.isArray(s),p=o.barwidth,h=Array.isArray(p),l=0;l<i.length;l++){var c=i[l],u=c.w=h?p[l]:p;c[a]=c.p+(f?s[l]:s)+u/2}}function v(t,r,e){var a=r.traces,n=r.minDiff/2;s.minDtick(t,r.minDiff,r.distinctPositions[0],e);for(var i=0;i<a.length;i++){var o,f,p,h,l=a[i],c=l[0],u=c.trace,g=[];for(h=0;h<l.length;h++)f=(o=l[h]).p-n,p=o.p+n,g.push(f,p);if(u.width||u.offset){var v=c.t,d=v.poffset,b=v.barwidth,m=Array.isArray(d),y=Array.isArray(b);for(h=0;h<l.length;h++){o=l[h];var x=m?d[h]:d,w=y?b[h]:b;p=(f=o.p+x)+w,g.push(f,p)}}u._extremes[t._id]=s.findExtremes(t,g,{padded:!1})}}function d(t,r){for(var e=r.traces,a=y(t),n=0;n<e.length;n++){for(var i=e[n],o=i[0].trace,f=[],p=!1,h=0;h<i.length;h++){var l=i[h],c=l.b,u=c+l.s;l[a]=u,f.push(u),l.hasB&&f.push(c),l.hasB&&l.b||(p=!0)}o._extremes[t._id]=s.findExtremes(t,f,{tozero:p,padded:!0})}}function b(t){for(var r=t.traces,e=0;e<r.length;e++)for(var a=r[e],n=0;n<a.length;n++){var o=a[n];o.s!==i&&t.put(o.p,o.b+o.s)}}function m(t,r,e){var n=r.traces,o=y(t),f="fraction"===e.norm?1:100,p=f/1e9,h=t.l2c(t.c2l(0)),l="stack"===e.mode?f:h;function c(r){return a(t.c2l(r))&&(r<h-p||r>l+p||!a(h))}for(var u=0;u<n.length;u++){for(var g=n[u],v=g[0].trace,d=[],b=!1,m=!1,x=0;x<g.length;x++){var w=g[x];if(w.s!==i){var M=Math.abs(f/r.get(w.p,w.s));w.b*=M,w.s*=M;var _=w.b,A=_+w.s;w[o]=A,d.push(A),m=m||c(A),w.hasB&&(d.push(_),m=m||c(_)),w.hasB&&w.b||(b=!0)}}v._extremes[t._id]=s.findExtremes(t,d,{tozero:b,padded:m})}}function y(t){return t._id.charAt(0)}t.exports={crossTraceCalc:function(t,r){for(var e=r.xaxis,a=r.yaxis,n=t._fullLayout,i=t._fullData,s=t.calcdata,f=[],p=[],l=0;l<i.length;l++){var c=i[l];if(!0===c.visible&&o.traceIs(c,"bar")&&c.xaxis===e._id&&c.yaxis===a._id&&("h"===c.orientation?f.push(s[l]):p.push(s[l]),c._computePh))for(var u=t.calcdata[l],g=0;g<u.length;g++)"function"===typeof u[g].ph0&&(u[g].ph0=u[g].ph0()),"function"===typeof u[g].ph1&&(u[g].ph1=u[g].ph1())}var v={xCat:"category"===e.type||"multicategory"===e.type,yCat:"category"===a.type||"multicategory"===a.type,mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap};h(t,e,a,p,v),h(t,a,e,f,v)},setGroupPositions:h}},959:function(t,r,e){"use strict";var a=e(929),n=e(851),i=e(856),o=e(846).fillText,s=e(1120).getLineWidth,f=e(864).hoverLabelText,p=e(873).BADNUM;function h(t,r,e,n){var i,s,h,l,c,u,g,v=t.cd,d=v[0].trace,b=v[0].t,m="closest"===n,y="waterfall"===d.type,x=t.maxHoverDistance;function w(t){return t[h]-t.w/2}function M(t){return t[h]+t.w/2}var _=m?w:function(t){return Math.min(w(t),t.p-b.bardelta/2)},A=m?M:function(t){return Math.max(M(t),t.p+b.bardelta/2)};function D(t,r){return a.inbox(t-i,r-i,x+Math.min(1,Math.abs(r-t)/g)-1)}function N(t){return D(_(t),A(t))}function L(t){var r=s,e=t.b,n=t[l];if(y){var i=Math.abs(t.rawS)||0;r>0?n+=i:r<0&&(n-=i)}return a.inbox(e-r,n-r,x+(n-r)/(n-e)-1)}"h"===d.orientation?(i=e,s=r,h="y",l="x",c=L,u=N):(i=r,s=e,h="x",l="y",u=L,c=N);var k=t[h+"a"],V=t[l+"a"];g=Math.abs(k.r2c(k.range[1])-k.r2c(k.range[0]));var B=a.getDistanceFunction(n,c,u,(function(t){return(c(t)+u(t))/2}));if(a.getClosest(v,B,t),!1!==t.index&&v[t.index].p!==p){m||(_=function(t){return Math.min(w(t),t.p-b.bargroupwidth/2)},A=function(t){return Math.max(M(t),t.p+b.bargroupwidth/2)});var C=v[t.index],P=d.base?C.b+C.s:C.s;t[l+"0"]=t[l+"1"]=V.c2p(C[l],!0),t[l+"LabelVal"]=P;var T=b.extents[b.extents.round(C.p)];t[h+"0"]=k.c2p(m?_(C):T[0],!0),t[h+"1"]=k.c2p(m?A(C):T[1],!0);var W=void 0!==C.orig_p;return t[h+"LabelVal"]=W?C.orig_p:C.p,t.labelLabel=f(k,t[h+"LabelVal"]),t.valueLabel=f(V,t[l+"LabelVal"]),t.baseLabel=f(V,C.b),t.spikeDistance=(L(C)+function(t){return D(w(t),M(t))}(C))/2-x,t[h+"Spike"]=k.c2p(C.p,!0),o(C,d,t),t.hovertemplate=d.hovertemplate,t}}function l(t,r){var e=r.mcc||t.marker.color,a=r.mlcc||t.marker.line.color,n=s(t,r);return i.opacity(e)?e:i.opacity(a)&&n?a:void 0}t.exports={hoverPoints:function(t,r,e,a){var i=h(t,r,e,a);if(i){var o=i.cd,s=o[0].trace,f=o[i.index];return i.color=l(s,f),n.getComponentMethod("errorbars","hoverInfo")(f,s,i),[i]}},hoverOnBars:h,getTraceColor:l}},960:function(t,r,e){"use strict";function a(t,r,e,a,n){var i=r.c2p(a?t.s0:t.p0,!0),o=r.c2p(a?t.s1:t.p1,!0),s=e.c2p(a?t.p0:t.s0,!0),f=e.c2p(a?t.p1:t.s1,!0);return n?[(i+o)/2,(s+f)/2]:a?[o,(s+f)/2]:[(i+o)/2,f]}t.exports=function(t,r){var e,n=t.cd,i=t.xaxis,o=t.yaxis,s=n[0].trace,f="funnel"===s.type,p="h"===s.orientation,h=[];if(!1===r)for(e=0;e<n.length;e++)n[e].selected=0;else for(e=0;e<n.length;e++){var l=n[e],c="ct"in l?l.ct:a(l,i,o,p,f);r.contains(c,!1,e,t)?(h.push({pointNumber:e,x:i.c2d(l.x),y:o.c2d(l.y)}),l.selected=1):l.selected=0}return h}}}]);