(this["webpackJsonpactiveui-plugin-plotly-chloropleth-map"]=this["webpackJsonpactiveui-plugin-plotly-chloropleth-map"]||[]).push([[18],{1518:function(e,t,a){"use strict";a.r(t);var r=a(7),o=a(0),n=a.n(o),i=a(20),l=a(3),c=a.n(l),s=a(902),u=a.n(s),p=a(913),d=a.n(p),m=a(8),b=a(76),h=a.n(b),v=a(151),y=a.n(v),f=a(23),g=a(73);function x(e){var t=e.data,a=e.cube,o=e.metaData,n=e.widgetState,l=n.colors,c=n.isTextVisible,s=n.mapping,u=n.opacity,p=void 0===u?1:u;if(!a||!t||!o)return[];var d=o.orderedAxis,m={},b={mapping:{},numberOfUsedAutomaticColors:0},v=function(e){var t=0===e.lineValues.length?"column":"line",a=Object(i.q)([].concat(Object(r.a)("column"===t?e.columnValues:e.lineValues),Object(r.a)(e.horizontalSubplots),Object(r.a)(e.verticalSubplots)));if(!m[a]){var n=function(e,t,a){var r=Object(i.r)("column"===t?a.columnValues:a.lineValues,s.lineValues.length+s.columnValues.length),n=Object(i.p)({accumulator:b,colorway:o.colorway,colors:l,traceName:r}),c={_key:e,hoverinfo:"none",legendgroup:r,name:r,cellsIndices:y()(new Array(d.captions.length),null),x:d.captions,y:d.captions.map((function(){return null})),opacity:p,text:d.captions.map((function(){return""}))};return"column"===t?(c.type="bar",c.marker={color:n},c.textposition="auto"):"line"===t&&(c.line={shape:"linear",color:n},c.mode="text+lines+markers",c.textposition="bottom center"),c}(a,t,e);m[a]=n}return m[a]};Object(f.g)(t,o.hierarchyIndicesInCellSet,(function(e){var t=e.cell,a=e.cellIndex,r=e.columnIndex,n=e.tuple,l=e.rowIndex,u=Object(i.m)(n,o.levelIndicesPerField,s,o.attributesRedirection),p=v(u),m=u.xAxis,b=Object(i.t)(m),h=d.members[b];s.lineValues.length+s.columnValues.length>0&&(p.y[h]=t.value),p.cellsIndices[h]=[{rowIndex:l,columnIndex:r,cellIndex:a}],p.x[h]=d.captions[h],c&&(p.text[h]=t.formattedValue)}));var g=Object.values(m);g.forEach((function(e){var t;e.axisIndices=h()(null===(t=e.x)||void 0===t?void 0:t.length)}));var x=o.subplots,j=Object(i.v)({traces:g,subplotsMetaData:x});return Object(i.g)(j,x),Object(i.w)(j),j}u.a.register(d.a);var j=Object(i.D)(Object(i.C)(Object(o.memo)((function(e){var t=e.cube,a=e.data,r=e.metaData,l=e.widgetState,s=e.onLoaded,u=Object(o.useMemo)((function(){return Object(m.v)(null===l||void 0===l?void 0:l.mapping)}),[null===l||void 0===l?void 0:l.mapping]);Object(i.A)({isEmpty:u,onLoaded:s});var p=Object(o.useMemo)((function(){return x({cube:t,data:a,metaData:r,widgetState:l})}),[t,a,r,l]),d=Object(o.useMemo)((function(){return function(e){return e?Object(g.b)({barmode:"relative",xaxis:{gridcolor:"transparent"}},Object(i.l)(e.subplots),Object(i.k)(e.subplots)):{}}(r)}),[r]);return t&&a&&r&&!u?n.a.createElement(i.d,c()({},e,{traces:p,layout:d,cube:t,data:a,metaData:r})):n.a.createElement(i.a,null)}))));t.default=j},882:function(e,t,a){"use strict";e.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",role:"info",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *relative*, the bars are stacked on top of one another,","with negative values below the axis, positive values above","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",role:"info",editType:"calc",description:["Sets the normalization for bar traces on the graph.","With *fraction*, the value of each bar is divided by the sum of all","values at that location coordinate.","*percent* is the same but multiplied by 100 to show percentages."].join(" ")},bargap:{valType:"number",min:0,max:1,role:"style",editType:"calc",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},bargroupgap:{valType:"number",min:0,max:1,dflt:0,role:"style",editType:"calc",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}},883:function(e,t,a){"use strict";var r=a(846);e.exports=function(e,t){for(var a=0;a<e.length;a++)e[a].i=a;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.hovertext,e,"htx");var o=t.marker;if(o){r.mergeArray(o.opacity,e,"mo",!0),r.mergeArray(o.color,e,"mc");var n=o.line;n&&(r.mergeArray(n.color,e,"mlc"),r.mergeArrayCastPositive(n.width,e,"mlw"))}}},913:function(e,t,a){"use strict";e.exports=a(914)},914:function(e,t,a){"use strict";e.exports={attributes:a(903),layoutAttributes:a(882),supplyDefaults:a(881).supplyDefaults,crossTraceDefaults:a(881).crossTraceDefaults,supplyLayoutDefaults:a(915),calc:a(916),crossTraceCalc:a(958).crossTraceCalc,colorbar:a(941),arraysToCalcdata:a(883),plot:a(949).plot,style:a(891).style,styleOnSelect:a(891).styleOnSelect,hoverPoints:a(959).hoverPoints,eventData:a(918),selectPoints:a(960),moduleType:"trace",name:"bar",basePlotModule:a(931),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{description:["The data visualized by the span of the bars is set in `y`","if `orientation` is set th *v* (the default)","and the labels are set in `x`.","By setting `orientation` to *h*, the roles are interchanged."].join(" ")}}},915:function(e,t,a){"use strict";var r=a(851),o=a(864),n=a(846),i=a(882);e.exports=function(e,t,a){function l(a,r){return n.coerce(e,t,i,a,r)}for(var c=!1,s=!1,u=!1,p={},d=l("barmode"),m=0;m<a.length;m++){var b=a[m];if(r.traceIs(b,"bar")&&b.visible){if(c=!0,"group"===d){var h=b.xaxis+b.yaxis;p[h]&&(u=!0),p[h]=!0}if(b.visible&&"histogram"===b.type)"category"!==o.getFromId({_fullLayout:t},b["v"===b.orientation?"xaxis":"yaxis"]).type&&(s=!0)}}c?("overlay"!==d&&l("barnorm"),l("bargap",s&&!u?0:.2),l("bargroupgap")):delete t.barmode}},916:function(e,t,a){"use strict";var r=a(864),o=a(947),n=a(884).hasColorscale,i=a(945),l=a(883),c=a(940);e.exports=function(e,t){var a,s,u,p,d=r.getFromId(e,t.xaxis||"x"),m=r.getFromId(e,t.yaxis||"y"),b={msUTC:!(!t.base&&0!==t.base)};"h"===t.orientation?(a=d.makeCalcdata(t,"x",b),u=m.makeCalcdata(t,"y"),s=o(t,m,"y",u),p=!!t.yperiodalignment):(a=m.makeCalcdata(t,"y",b),u=d.makeCalcdata(t,"x"),s=o(t,d,"x",u),p=!!t.xperiodalignment);for(var h=Math.min(s.length,a.length),v=new Array(h),y=0;y<h;y++)v[y]={p:s[y],s:a[y]},p&&(v[y].orig_p=u[y]),t.ids&&(v[y].id=String(t.ids[y]));return n(t,"marker")&&i(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),n(t,"marker.line")&&i(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),l(v,t),c(v,t),v}},918:function(e,t,a){"use strict";e.exports=function(e,t,a){return e.x="xVal"in t?t.xVal:t.x,e.y="yVal"in t?t.yVal:t.y,t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),"h"===a.orientation?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}}}]);