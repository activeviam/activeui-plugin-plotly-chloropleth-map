(this["webpackJsonpactiveui-plugin-plotly-chloropleth-map"]=this["webpackJsonpactiveui-plugin-plotly-chloropleth-map"]||[]).push([[10],{1121:function(t,e,a){"use strict";t.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},1229:function(t,e,a){"use strict";var r=a(846),i=a(1016),n=r.deg2rad,o=r.rad2deg;t.exports=function(t,e,a){switch(i(t,a),t._id){case"x":case"radialaxis":!function(t,e){var a=e._subplot;t.setGeometry=function(){var e=t._rl[0],r=t._rl[1],i=a.innerRadius,n=(a.radius-i)/(r-e),o=i/n,l=e>r?function(t){return t<=0}:function(t){return t>=0};t.c2g=function(a){var r=t.c2l(a)-e;return(l(r)?r:0)+o},t.g2c=function(a){return t.l2c(a+e-o)},t.g2p=function(t){return t*n},t.c2p=function(e){return t.g2p(t.c2g(e))}}}(t,e);break;case"angularaxis":!function(t,e){var a=t.type;if("linear"===a){var i=t.d2c,l=t.c2d;t.d2c=function(t,e){return function(t,e){return"degrees"===e?n(t):t}(i(t),e)},t.c2d=function(t,e){return l(function(t,e){return"degrees"===e?o(t):t}(t,e))}}t.makeCalcdata=function(e,i){var n,o,l=e[i],s=e._length,c=function(a){return t.d2c(a,e.thetaunit)};if(l){if(r.isTypedArray(l)&&"linear"===a){if(s===l.length)return l;if(l.subarray)return l.subarray(0,s)}for(n=new Array(s),o=0;o<s;o++)n[o]=c(l[o])}else{var u=i+"0",d="d"+i,h=u in e?c(e[u]):0,p=e[d]?c(e[d]):(t.period||2*Math.PI)/s;for(n=new Array(s),o=0;o<s;o++)n[o]=h+o*p}return n},t.setGeometry=function(){var i,l,s,c,u=e.sector,d=u.map(n),h={clockwise:-1,counterclockwise:1}[t.direction],p=n(t.rotation),f=function(t){return h*t+p},g=function(t){return(t-p)/h};switch(a){case"linear":l=i=r.identity,c=n,s=o,t.range=r.isFullCircle(d)?[u[0],u[0]+360]:d.map(g).map(o);break;case"category":var v=t._categories.length,y=t.period?Math.max(t.period,v):v;0===y&&(y=1),l=c=function(t){return 2*t*Math.PI/y},i=s=function(t){return t*y/Math.PI/2},t.range=[0,y]}t.c2g=function(t){return f(l(t))},t.g2c=function(t){return i(g(t))},t.t2g=function(t){return f(c(t))},t.g2t=function(t){return s(g(t))}}}(t,e)}}},1230:function(t,e,a){"use strict";var r=a(927),i=a(911),n=a(932).attributes,o=a(846).extendFlat,l=a(938).overrideAll,s=l({color:i.color,showline:o({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:o({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth},"plot","from-root"),c=l({tickmode:i.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,showticklabels:i.showticklabels,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,layer:i.layer},"plot","from-root"),u={visible:o({},i.visible,{dflt:!0}),type:o({},i.type,{values:["-","linear","log","date","category"]}),autotypenumbers:i.autotypenumbers,autorange:o({},i.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",role:"style",editType:"calc",description:["If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data.","If *normal*, the range is computed in relation to the extrema","of the input data (same behavior as for cartesian axes)."].join(" ")},range:o({},i.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:i.categoryorder,categoryarray:i.categoryarray,angle:{valType:"angle",editType:"plot",role:"info",description:["Sets the angle (in degrees) from which the radial axis is drawn.","Note that by default, radial axis line on the theta=0 line","corresponds to a line pointing right (like what mathematicians prefer).","Defaults to the first `polar.sector` angle."].join(" ")},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot",role:"info",description:["Determines on which side of radial axis line","the tick and tick labels appear."].join(" ")},title:{text:o({},i.title.text,{editType:"plot",dflt:""}),font:o({},i.title.font,{editType:"plot"}),editType:"plot"},hoverformat:i.hoverformat,uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis `range`,","`autorange`, `angle`, and `title` if in `editable: true` configuration.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc",_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}};o(u,s,c);var d={visible:o({},i.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",role:"info",editType:"calc",_noTemplating:!0,description:["Sets the angular axis type.","If *linear*, set `thetaunit` to determine the unit in which axis value are shown.","If *category, use `period` to set the number of integer coordinates around polar axis."].join(" ")},autotypenumbers:i.autotypenumbers,categoryorder:i.categoryorder,categoryarray:i.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",role:"info",editType:"calc",description:["Sets the format unit of the formatted *theta* values.","Has an effect only when `angularaxis.type` is *linear*."].join(" ")},period:{valType:"number",editType:"calc",min:0,role:"info",description:["Set the angular period.","Has an effect only when `angularaxis.type` is *category*."].join(" ")},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",role:"info",editType:"calc",description:["Sets the direction corresponding to positive angles."].join(" ")},rotation:{valType:"angle",editType:"calc",role:"info",description:["Sets that start position (in degrees) of the angular axis","By default, polar subplots with `direction` set to *counterclockwise*","get a `rotation` of *0*","which corresponds to due East (like what mathematicians prefer).","In turn, polar with `direction` set to *clockwise* get a rotation of *90*","which corresponds to due North (like on a compass),"].join(" ")},hoverformat:i.hoverformat,uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis `rotation`.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc"};o(d,s,c),t.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],role:"info",editType:"plot",description:["Sets angular span of this polar subplot with two angles (in degrees).","Sector are assumed to be spanned in the counterclockwise direction","with *0* corresponding to rightmost limit of the polar subplot."].join(" ")},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot",role:"info",description:["Sets the fraction of the radius to cut out of the polar subplot."].join(" ")},bgcolor:{valType:"color",role:"style",editType:"plot",dflt:r.background,description:"Set the background color of the subplot"},radialaxis:u,angularaxis:d,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",role:"style",editType:"plot",description:["Determines if the radial axis grid lines and angular axis line are drawn","as *circular* sectors or as *linear* (polygon) sectors.","Has an effect only when the angular axis has `type` *category*.","Note that `radialaxis.angle` is snapped to the angle of the closest","vertex when `gridshape` is *circular*","(so that radial axis scale is the same as the data scale)."].join(" ")},uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis attributes,","if not overridden in the individual axes.","Defaults to `layout.uirevision`."].join(" ")},editType:"calc"}},1231:function(t,e,a){"use strict";var r=a(890).hovertemplateAttrs,i=a(890).texttemplateAttrs,n=a(874).extendFlat,o=a(944),l=a(937),s=o.line;t.exports={mode:o.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the radial coordinates"},theta:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the angular coordinates"},r0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:["Alternate to `r`.","Builds a linear space of r coordinates.","Use with `dr`","where `r0` is the starting coordinate and `dr` the step."].join(" ")},dr:{valType:"number",dflt:1,role:"info",editType:"calc",description:"Sets the r coordinate step."},theta0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:["Alternate to `theta`.","Builds a linear space of theta coordinates.","Use with `dtheta`","where `theta0` is the starting coordinate and `dtheta` the step."].join(" ")},dtheta:{valType:"number",role:"info",editType:"calc",description:["Sets the theta coordinate step.","By default, the `dtheta` step equals the subplot's period divided","by the length of the `r` coordinates."].join(" ")},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",role:"info",editType:"calc+clearAxisTypes",description:["Sets the unit of input *theta* values.","Has an effect only when on *linear* angular axes."].join(" ")},text:o.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:o.hovertext,line:{color:s.color,width:s.width,dash:s.dash,shape:n({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:o.connectgaps,marker:o.marker,cliponaxis:n({},o.cliponaxis,{dflt:!1}),textposition:o.textposition,textfont:o.textfont,fill:n({},o.fill,{values:["none","toself","tonext"],dflt:"none",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","scatterpolar has a subset of the options available to scatter.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")}),fillcolor:o.fillcolor,hoverinfo:n({},l.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:o.hoveron,hovertemplate:r(),selected:o.selected,unselected:o.unselected}},1465:function(t,e,a){"use strict";t.exports=a(1466)},1466:function(t,e,a){"use strict";t.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:a(1467),categories:["polar","symbols","showLegend","scatter-like"],attributes:a(1231),supplyDefaults:a(1472).supplyDefaults,colorbar:a(941),formatLabels:a(1473),calc:a(1474),plot:a(1475),style:a(1054).style,styleOnSelect:a(1054).styleOnSelect,hoverPoints:a(1476).hoverPoints,selectPoints:a(1215),meta:{hrName:"scatter_polar",description:["The scatterpolar trace type encompasses line charts, scatter charts, text charts, and bubble charts","in polar coordinates.","The data visualized as scatter point or lines is set in","`r` (radial) and `theta` (angular) coordinates","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")}}},1467:function(t,e,a){"use strict";var r=a(1049).getSubplotCalcData,i=a(846).counterRegex,n=a(1468),o=a(1121),l=o.attr,s=o.name,c=i(s),u={};u[l]={valType:"subplotid",role:"info",dflt:s,editType:"calc",description:["Sets a reference between this trace's data coordinates and","a polar subplot.","If *polar* (the default value), the data refer to `layout.polar`.","If *polar2*, the data refer to `layout.polar2`, and so on."].join(" ")},t.exports={attr:l,name:s,idRoot:s,idRegex:c,attrRegex:c,attributes:u,layoutAttributes:a(1230),supplyLayoutDefaults:a(1470),plot:function(t){for(var e=t._fullLayout,a=t.calcdata,i=e._subplots[s],o=0;o<i.length;o++){var l=i[o],c=r(a,s,l),u=e[l]._subplot;u||(u=n(t,l),e[l]._subplot=u),u.plot(c,e,t._promises)}},clean:function(t,e,a,r){for(var i=r._subplots[s]||[],n=r._has&&r._has("gl"),o=e._has&&e._has("gl"),l=n&&!o,c=0;c<i.length;c++){var u=i[c],d=r[u]._subplot;if(!e[u]&&d)for(var h in d.framework.remove(),d.layers["radial-axis-title"].remove(),d.clipPaths)d.clipPaths[h].remove();l&&d._scene&&(d._scene.destroy(),d._scene=null)}},toSVG:a(931).toSVG}},1468:function(t,e,a){"use strict";var r=a(854),i=a(921),n=a(851),o=a(846),l=o.strRotate,s=o.strTranslate,c=a(856),u=a(867),d=a(876),h=a(864),p=a(1016),f=a(1229),g=a(1017).doAutoRange,v=a(1200),y=a(930),x=a(929),m=a(1015),b=a(972).prepSelect,k=a(972).selectOnClick,w=a(972).clearSelect,T=a(946),_=a(1051),A=a(1052).redrawReglTraces,M=a(894).MID_SHIFT,I=a(1121),S=a(1469),L=o._,O=o.mod,j=o.deg2rad,D=o.rad2deg;function R(t,e){this.id=e,this.gd=t,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var a=t._fullLayout,r="clip"+a._uid+e;this.clipIds.forTraces=r+"-for-traces",this.clipPaths.forTraces=a._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=a._polarlayer.append("g").attr("class",e),this.radialTickLayout=null,this.angularTickLayout=null}var F=R.prototype;function C(t){var e=t.ticks+String(t.ticklen)+String(t.showticklabels);return"side"in t&&(e+=t.side),e}function P(t,e){return e[o.findIndexOfMin(e,(function(e){return o.angleDist(t,e)}))]}function N(t,e,a){return e?(t.attr("display",null),t.attr(a)):t&&t.attr("display","none"),t}t.exports=function(t,e){return new R(t,e)},F.plot=function(t,e){var a=e[this.id];this._hasClipOnAxisFalse=!1;for(var r=0;r<t.length;r++){if(!1===t[r][0].trace.cliponaxis){this._hasClipOnAxisFalse=!0;break}}this.updateLayers(e,a),this.updateLayout(e,a),d.generalUpdatePerTraceModule(this.gd,this,t,a),this.updateFx(e,a)},F.updateLayers=function(t,e){var a=this.layers,i=e.radialaxis,n=e.angularaxis,o=I.layerNames,l=o.indexOf("frontplot"),s=o.slice(0,l),c="below traces"===n.layer,u="below traces"===i.layer;c&&s.push("angular-line"),u&&s.push("radial-line"),c&&s.push("angular-axis"),u&&s.push("radial-axis"),s.push("frontplot"),c||s.push("angular-line"),u||s.push("radial-line"),c||s.push("angular-axis"),u||s.push("radial-axis");var d=this.framework.selectAll(".polarsublayer").data(s,String);d.enter().append("g").attr("class",(function(t){return"polarsublayer "+t})).each((function(t){var e=a[t]=r.select(this);switch(t){case"frontplot":e.append("g").classed("barlayer",!0),e.append("g").classed("scatterlayer",!0);break;case"backplot":e.append("g").classed("maplayer",!0);break;case"plotbg":a.bg=e.append("path");break;case"radial-grid":case"angular-grid":e.style("fill","none");break;case"radial-line":e.append("line").style("fill","none");break;case"angular-line":e.append("path").style("fill","none")}})),d.order()},F.updateLayout=function(t,e){var a=this.layers,r=t._size,i=e.radialaxis,n=e.angularaxis,o=e.domain.x,l=e.domain.y;this.xOffset=r.l+r.w*o[0],this.yOffset=r.t+r.h*(1-l[1]);var d=this.xLength=r.w*(o[1]-o[0]),h=this.yLength=r.h*(l[1]-l[0]),p=e.sector;this.sectorInRad=p.map(j);var f,g,v,y,x,m=this.sectorBBox=function(t){var e,a,r,i,n=t[0],o=t[1]-n,l=O(n,360),s=l+o,c=Math.cos(j(l)),u=Math.sin(j(l)),d=Math.cos(j(s)),h=Math.sin(j(s));i=l<=90&&s>=90||l>90&&s>=450?1:u<=0&&h<=0?0:Math.max(u,h);e=l<=180&&s>=180||l>180&&s>=540?-1:c>=0&&d>=0?0:Math.min(c,d);a=l<=270&&s>=270||l>270&&s>=630?-1:u>=0&&h>=0?0:Math.min(u,h);r=s>=360?1:c<=0&&d<=0?0:Math.max(c,d);return[e,a,r,i]}(p),b=m[2]-m[0],k=m[3]-m[1],w=h/d,T=Math.abs(k/b);w>T?(f=d,x=(h-(g=d*T))/r.h/2,v=[o[0],o[1]],y=[l[0]+x,l[1]-x]):(g=h,x=(d-(f=h/T))/r.w/2,v=[o[0]+x,o[1]-x],y=[l[0],l[1]]),this.xLength2=f,this.yLength2=g,this.xDomain2=v,this.yDomain2=y;var _=this.xOffset2=r.l+r.w*v[0],A=this.yOffset2=r.t+r.h*(1-y[1]),M=this.radius=f/b,I=this.innerRadius=e.hole*M,S=this.cx=_-M*m[0],L=this.cy=A+M*m[3],D=this.cxx=S-_,R=this.cyy=L-A;this.radialAxis=this.mockAxis(t,e,i,{_id:"x",side:{counterclockwise:"top",clockwise:"bottom"}[i.side],_realSide:i.side,domain:[I/r.w,M/r.w]}),this.angularAxis=this.mockAxis(t,e,n,{side:"right",domain:[0,Math.PI],autorange:!1}),this.doAutoRange(t,e),this.updateAngularAxis(t,e),this.updateRadialAxis(t,e),this.updateRadialAxisTitle(t,e),this.xaxis=this.mockCartesianAxis(t,e,{_id:"x",domain:v}),this.yaxis=this.mockCartesianAxis(t,e,{_id:"y",domain:y});var F=this.pathSubplot();this.clipPaths.forTraces.select("path").attr("d",F).attr("transform",s(D,R)),a.frontplot.attr("transform",s(_,A)).call(u.setClipUrl,this._hasClipOnAxisFalse?null:this.clipIds.forTraces,this.gd),a.bg.attr("d",F).attr("transform",s(S,L)).call(c.fill,e.bgcolor)},F.mockAxis=function(t,e,a,r){var i=o.extendFlat({},a,r);return f(i,e,t),i},F.mockCartesianAxis=function(t,e,a){var r=this,i=a._id,n=o.extendFlat({type:"linear"},a);p(n,t);var l={x:[0,2],y:[1,3]};return n.setRange=function(){var t=r.sectorBBox,a=l[i],o=r.radialAxis._rl,s=(o[1]-o[0])/(1-e.hole);n.range=[t[a[0]]*s,t[a[1]]*s]},n.isPtWithinRange="x"===i?function(t){return r.isPtInside(t)}:function(){return!0},n.setRange(),n.setScale(),n},F.doAutoRange=function(t,e){var a=this.gd,r=this.radialAxis,i=e.radialaxis;r.setScale(),g(a,r);var n=r.range;i.range=n.slice(),i._input.range=n.slice(),r._rl=[r.r2l(n[0],null,"gregorian"),r.r2l(n[1],null,"gregorian")]},F.updateRadialAxis=function(t,e){var a=this,r=a.gd,i=a.layers,n=a.radius,u=a.innerRadius,d=a.cx,p=a.cy,f=e.radialaxis,g=O(e.sector[0],360),v=a.radialAxis,y=u<n;a.fillViewInitialKey("radialaxis.angle",f.angle),a.fillViewInitialKey("radialaxis.range",v.range.slice()),v.setGeometry(),"auto"===v.tickangle&&g>90&&g<=270&&(v.tickangle=180);var x=function(t){return s(v.l2p(t.x)+u,0)},m=C(f);if(a.radialTickLayout!==m&&(i["radial-axis"].selectAll(".xtick").remove(),a.radialTickLayout=m),y){v.setScale();var b=h.calcTicks(v),k=h.clipEnds(v,b),w=h.getTickSigns(v)[2];h.drawTicks(r,v,{vals:b,layer:i["radial-axis"],path:h.makeTickPath(v,0,w),transFn:x,crisp:!1}),h.drawGrid(r,v,{vals:k,layer:i["radial-grid"],path:function(t){return a.pathArc(v.r2p(t.x)+u)},transFn:o.noop,crisp:!1}),h.drawLabels(r,v,{vals:b,layer:i["radial-axis"],transFn:x,labelFns:h.makeLabelFns(v,0)})}var T=a.radialAxisAngle=a.vangles?D(P(j(f.angle),a.vangles)):f.angle,_=s(d,p),A=_+l(-T);N(i["radial-axis"],y&&(f.showticklabels||f.ticks),{transform:A}),N(i["radial-grid"],y&&f.showgrid,{transform:_}),N(i["radial-line"].select("line"),y&&f.showline,{x1:u,y1:0,x2:n,y2:0,transform:A}).attr("stroke-width",f.linewidth).call(c.stroke,f.linecolor)},F.updateRadialAxisTitle=function(t,e,a){var r=this.gd,i=this.radius,n=this.cx,o=this.cy,l=e.radialaxis,s=this.id+"title",c=void 0!==a?a:this.radialAxisAngle,d=j(c),h=Math.cos(d),p=Math.sin(d),f=0;if(l.title){var g=u.bBox(this.layers["radial-axis"].node()).height,v=l.title.font.size;f="counterclockwise"===l.side?-g-.4*v:g+.8*v}this.layers["radial-axis-title"]=m.draw(r,s,{propContainer:l,propName:this.id+".radialaxis.title",placeholder:L(r,"Click to enter radial axis title"),attributes:{x:n+i/2*h+f*p,y:o-i/2*p+f*h,"text-anchor":"middle"},transform:{rotate:-c}})},F.updateAngularAxis=function(t,e){var a=this,r=a.gd,i=a.layers,n=a.radius,u=a.innerRadius,d=a.cx,p=a.cy,f=e.angularaxis,g=a.angularAxis;a.fillViewInitialKey("angularaxis.rotation",f.rotation),g.setGeometry(),g.setScale();var v=function(t){return g.t2g(t.x)};"linear"===g.type&&"radians"===g.thetaunit&&(g.tick0=D(g.tick0),g.dtick=D(g.dtick));var y=function(t){return s(d+n*Math.cos(t),p-n*Math.sin(t))},x=h.makeLabelFns(g,0).labelStandoff,m={xFn:function(t){var e=v(t);return Math.cos(e)*x},yFn:function(t){var e=v(t),a=Math.sin(e)>0?.2:1;return-Math.sin(e)*(x+t.fontSize*a)+Math.abs(Math.cos(e))*(t.fontSize*M)},anchorFn:function(t){var e=v(t),a=Math.cos(e);return Math.abs(a)<.1?"middle":a>0?"start":"end"},heightFn:function(t,e,a){var r=v(t);return-.5*(1+Math.sin(r))*a}},b=C(f);a.angularTickLayout!==b&&(i["angular-axis"].selectAll("."+g._id+"tick").remove(),a.angularTickLayout=b);var k,w=h.calcTicks(g);if("linear"===e.gridshape?(k=w.map(v),o.angleDelta(k[0],k[1])<0&&(k=k.slice().reverse())):k=null,a.vangles=k,"category"===g.type&&(w=w.filter((function(t){return o.isAngleInsideSector(v(t),a.sectorInRad)}))),g.visible){var T="inside"===g.ticks?-1:1,_=(g.linewidth||1)/2;h.drawTicks(r,g,{vals:w,layer:i["angular-axis"],path:"M"+T*_+",0h"+T*g.ticklen,transFn:function(t){var e=v(t);return y(e)+l(-D(e))},crisp:!1}),h.drawGrid(r,g,{vals:w,layer:i["angular-grid"],path:function(t){var e=v(t),a=Math.cos(e),r=Math.sin(e);return"M"+[d+u*a,p-u*r]+"L"+[d+n*a,p-n*r]},transFn:o.noop,crisp:!1}),h.drawLabels(r,g,{vals:w,layer:i["angular-axis"],repositionOnUpdate:!0,transFn:function(t){return y(v(t))},labelFns:m})}N(i["angular-line"].select("path"),f.showline,{d:a.pathSubplot(),transform:s(d,p)}).attr("stroke-width",f.linewidth).call(c.stroke,f.linecolor)},F.updateFx=function(t,e){this.gd._context.staticPlot||(this.updateAngularDrag(t),this.updateRadialDrag(t,e,0),this.updateRadialDrag(t,e,1),this.updateMainDrag(t))},F.updateMainDrag=function(t){var e,a,l=this,c=l.gd,u=l.layers,d=t._zoomlayer,h=I.MINZOOM,p=I.OFFEDGE,f=l.radius,g=l.innerRadius,m=l.cx,T=l.cy,_=l.cxx,A=l.cyy,M=l.sectorInRad,L=l.vangles,O=l.radialAxis,j=S.clampTiny,D=S.findXYatLength,R=S.findEnclosingVertexAngles,F=I.cornerHalfWidth,C=I.cornerLen/2,P=v.makeDragger(u,"path","maindrag","crosshair");r.select(P).attr("d",l.pathSubplot()).attr("transform",s(m,T));var N,z,B,E,V,H,G,Z,U,Y={element:P,gd:c,subplot:l.id,plotinfo:{id:l.id,xaxis:l.xaxis,yaxis:l.yaxis},xaxes:[l.xaxis],yaxes:[l.yaxis]};function q(t,e){return Math.sqrt(t*t+e*e)}function X(t,e){return q(t-_,e-A)}function K(t,e){return Math.atan2(A-e,t-_)}function W(t,e){return[t*Math.cos(e),t*Math.sin(-e)]}function J(t,e){if(0===t)return l.pathSector(2*F);var a=C/t,r=e-a,i=e+a,n=Math.max(0,Math.min(t,f)),o=n-F,s=n+F;return"M"+W(o,r)+"A"+[o,o]+" 0,0,0 "+W(o,i)+"L"+W(s,i)+"A"+[s,s]+" 0,0,1 "+W(s,r)+"Z"}function $(t,e,a){if(0===t)return l.pathSector(2*F);var r,i,n=W(t,e),o=W(t,a),s=j((n[0]+o[0])/2),c=j((n[1]+o[1])/2);if(s&&c){var u=c/s,d=-1/u,h=D(F,u,s,c);r=D(C,d,h[0][0],h[0][1]),i=D(C,d,h[1][0],h[1][1])}else{var p,f;c?(p=C,f=F):(p=F,f=C),r=[[s-p,c-f],[s+p,c-f]],i=[[s-p,c+f],[s+p,c+f]]}return"M"+r.join("L")+"L"+i.reverse().join("L")+"Z"}function Q(t,e){return e=Math.max(Math.min(e,f),g),t<p?t=0:f-t<p?t=f:e<p?e=0:f-e<p&&(e=f),Math.abs(e-t)>h?(t<e?(B=t,E=e):(B=e,E=t),!0):(B=null,E=null,!1)}function tt(t,e){t=t||V,e=e||"M0,0Z",Z.attr("d",t),U.attr("d",e),v.transitionZoombox(Z,U,H,G),H=!0;var a={};nt(a),c.emit("plotly_relayouting",a)}function et(t,r){var i,n,o=N+(t*=e),s=z+(r*=a),c=X(N,z),u=Math.min(X(o,s),f),d=K(N,z);Q(c,u)&&(i=V+l.pathSector(E),B&&(i+=l.pathSector(B)),n=J(B,d)+J(E,d)),tt(i,n)}function at(t,e,a,r){var i=S.findIntersectionXY(a,r,a,[t-_,A-e]);return q(i[0],i[1])}function rt(t,e){var a,r,i=N+t,n=z+e,o=K(N,z),s=K(i,n),c=R(o,L),u=R(s,L);Q(at(N,z,c[0],c[1]),Math.min(at(i,n,u[0],u[1]),f))&&(a=V+l.pathSector(E),B&&(a+=l.pathSector(B)),r=[$(B,c[0],c[1]),$(E,c[0],c[1])].join(" ")),tt(a,r)}function it(){if(v.removeZoombox(c),null!==B&&null!==E){var t={};nt(t),v.showDoubleClickNotifier(c),n.call("_guiRelayout",c,t)}}function nt(t){var e=O._rl,a=(e[1]-e[0])/(1-g/f)/f,r=[e[0]+(B-g)*a,e[0]+(E-g)*a];t[l.id+".radialaxis.range"]=r}function ot(t,e){var a=c._fullLayout.clickmode;if(v.removeZoombox(c),2===t){var r={};for(var i in l.viewInitial)r[l.id+"."+i]=l.viewInitial[i];c.emit("plotly_doubleclick",null),n.call("_guiRelayout",c,r)}a.indexOf("select")>-1&&1===t&&k(e,c,[l.xaxis],[l.yaxis],l.id,Y),a.indexOf("event")>-1&&x.click(c,e,l.id)}Y.prepFn=function(t,r,n){var s=c._fullLayout.dragmode,u=P.getBoundingClientRect();c._fullLayout._calcInverseTransform(c);var h=c._fullLayout._invTransform;e=c._fullLayout._invScaleX,a=c._fullLayout._invScaleY;var p=o.apply3DTransform(h)(r-u.left,n-u.top);if(N=p[0],z=p[1],L){var g=S.findPolygonOffset(f,M[0],M[1],L);N+=_+g[0],z+=A+g[1]}switch(s){case"zoom":Y.moveFn=L?rt:et,Y.clickFn=ot,Y.doneFn=it,function(){B=null,E=null,V=l.pathSubplot(),H=!1;var t=c._fullLayout[l.id];G=i(t.bgcolor).getLuminance(),(Z=v.makeZoombox(d,G,m,T,V)).attr("fill-rule","evenodd"),U=v.makeCorners(d,m,T),w(c)}();break;case"select":case"lasso":b(t,r,n,Y,s)}},P.onmousemove=function(t){x.hover(c,t,l.id),c._fullLayout._lasthover=P,c._fullLayout._hoversubplot=l.id},P.onmouseout=function(t){c._dragging||y.unhover(c,t)},y.init(Y)},F.updateRadialDrag=function(t,e,a){var i=this,c=i.gd,u=i.layers,d=i.radius,h=i.innerRadius,p=i.cx,f=i.cy,g=i.radialAxis,x=I.radialDragBoxSize,m=x/2;if(g.visible){var b,k,T,M=j(i.radialAxisAngle),S=g._rl,L=S[0],O=S[1],R=S[a],F=.75*(S[1]-S[0])/(1-e.hole)/d;a?(b=p+(d+m)*Math.cos(M),k=f-(d+m)*Math.sin(M),T="radialdrag"):(b=p+(h-m)*Math.cos(M),k=f-(h-m)*Math.sin(M),T="radialdrag-inner");var C,z,B,E=v.makeRectDragger(u,T,"crosshair",-m,-m,x,x),V={element:E,gd:c};N(r.select(E),g.visible&&h<d,{transform:s(b,k)}),V.prepFn=function(){C=null,z=null,B=null,V.moveFn=H,V.doneFn=G,w(c)},V.clampFn=function(t,e){return Math.sqrt(t*t+e*e)<I.MINDRAG&&(t=0,e=0),[t,e]},y.init(V)}function H(t,e){if(C)C(t,e);else{var r=[t,-e],n=[Math.cos(M),Math.sin(M)],l=Math.abs(o.dot(r,n)/Math.sqrt(o.dot(r,r)));isNaN(l)||(C=l<.5?Z:U)}var s={};!function(t){null!==z?t[i.id+".radialaxis.angle"]=z:null!==B&&(t[i.id+".radialaxis.range["+a+"]"]=B)}(s),c.emit("plotly_relayouting",s)}function G(){null!==z?n.call("_guiRelayout",c,i.id+".radialaxis.angle",z):null!==B&&n.call("_guiRelayout",c,i.id+".radialaxis.range["+a+"]",B)}function Z(t,e){if(0!==a){var r=b+t,n=k+e;z=Math.atan2(f-n,r-p),i.vangles&&(z=P(z,i.vangles)),z=D(z);var o=s(p,f)+l(-z);u["radial-axis"].attr("transform",o),u["radial-line"].select("line").attr("transform",o);var c=i.gd._fullLayout,d=c[i.id];i.updateRadialAxisTitle(c,d,z)}}function U(t,e){var r=o.dot([t,-e],[Math.cos(M),Math.sin(M)]);if(B=R-F*r,F>0===(a?B>L:B<O)){var l=c._fullLayout,s=l[i.id];g.range[a]=B,g._rl[a]=B,i.updateRadialAxis(l,s),i.xaxis.setRange(),i.xaxis.setScale(),i.yaxis.setRange(),i.yaxis.setScale();var u=!1;for(var d in i.traceHash){var h=i.traceHash[d],p=o.filterVisible(h);h[0][0].trace._module.plot(c,i,p,s),n.traceIs(d,"gl")&&p.length&&(u=!0)}u&&(_(c),A(c))}else B=null}},F.updateAngularDrag=function(t){var e=this,a=e.gd,i=e.layers,c=e.radius,d=e.angularAxis,h=e.cx,p=e.cy,f=e.cxx,g=e.cyy,x=I.angularDragBoxSize,m=v.makeDragger(i,"path","angulardrag","move"),b={element:m,gd:a};function k(t,e){return Math.atan2(g+x-e,t-f-x)}r.select(m).attr("d",e.pathAnnulus(c,c+x)).attr("transform",s(h,p)).call(T,"move");var M,S,L,O,j,R,F=i.frontplot.select(".scatterlayer").selectAll(".trace"),C=F.selectAll(".point"),P=F.selectAll(".textpoint");function N(c,v){var y=e.gd._fullLayout,x=y[e.id],m=k(M+c*t._invScaleX,S+v*t._invScaleY),b=D(m-R);if(O=L+b,i.frontplot.attr("transform",s(e.xOffset2,e.yOffset2)+l([-b,f,g])),e.vangles){j=e.radialAxisAngle+b;var w=s(h,p)+l(-b),T=s(h,p)+l(-j);i.bg.attr("transform",w),i["radial-grid"].attr("transform",w),i["radial-axis"].attr("transform",T),i["radial-line"].select("line").attr("transform",T),e.updateRadialAxisTitle(y,x,j)}else e.clipPaths.forTraces.select("path").attr("transform",s(f,g)+l(b));C.each((function(){var t=r.select(this),e=u.getTranslate(t);t.attr("transform",s(e.x,e.y)+l([b]))})),P.each((function(){var t=r.select(this),e=t.select("text"),a=u.getTranslate(t);t.attr("transform",l([b,e.attr("x"),e.attr("y")])+s(a.x,a.y))})),d.rotation=o.modHalf(O,360),e.updateAngularAxis(y,x),e._hasClipOnAxisFalse&&!o.isFullCircle(e.sectorInRad)&&F.call(u.hideOutsideRangePoints,e);var I=!1;for(var N in e.traceHash)if(n.traceIs(N,"gl")){var B=e.traceHash[N],E=o.filterVisible(B);B[0][0].trace._module.plot(a,e,E,x),E.length&&(I=!0)}I&&(_(a),A(a));var V={};z(V),a.emit("plotly_relayouting",V)}function z(t){t[e.id+".angularaxis.rotation"]=O,e.vangles&&(t[e.id+".radialaxis.angle"]=j)}function B(){P.select("text").attr("transform",null);var t={};z(t),n.call("_guiRelayout",a,t)}b.prepFn=function(r,i,n){var l=t[e.id];L=l.angularaxis.rotation;var s=m.getBoundingClientRect();M=i-s.left,S=n-s.top,a._fullLayout._calcInverseTransform(a);var c=o.apply3DTransform(t._invTransform)(M,S);M=c[0],S=c[1],R=k(M,S),b.moveFn=N,b.doneFn=B,w(a)},e.vangles&&!o.isFullCircle(e.sectorInRad)&&(b.prepFn=o.noop,T(r.select(m),null)),y.init(b)},F.isPtInside=function(t){var e=this.sectorInRad,a=this.vangles,r=this.angularAxis.c2g(t.theta),i=this.radialAxis,n=i.c2l(t.r),l=i._rl;return(a?S.isPtInsidePolygon:o.isPtInsideSector)(n,r,l,e,a)},F.pathArc=function(t){var e=this.sectorInRad,a=this.vangles;return(a?S.pathPolygon:o.pathArc)(t,e[0],e[1],a)},F.pathSector=function(t){var e=this.sectorInRad,a=this.vangles;return(a?S.pathPolygon:o.pathSector)(t,e[0],e[1],a)},F.pathAnnulus=function(t,e){var a=this.sectorInRad,r=this.vangles;return(r?S.pathPolygonAnnulus:o.pathAnnulus)(t,e,a[0],a[1],r)},F.pathSubplot=function(){var t=this.innerRadius,e=this.radius;return t?this.pathAnnulus(t,e):this.pathSector(e)},F.fillViewInitialKey=function(t,e){t in this.viewInitial||(this.viewInitial[t]=e)}},1469:function(t,e,a){"use strict";var r=a(846),i=a(1105).tester,n=r.findIndexOfMin,o=r.isAngleInsideSector,l=r.angleDelta,s=r.angleDist;function c(t,e,a,r){var i,n,o=r[0],l=r[1],s=d(Math.sin(e)-Math.sin(t)),c=d(Math.cos(e)-Math.cos(t)),u=Math.tan(a),h=d(1/u),p=s/c,f=l-p*o;return h?s&&c?n=u*(i=f/(u-p)):c?(i=l*h,n=l):(i=o,n=o*u):s&&c?(i=0,n=f):c?(i=0,n=l):i=n=NaN,[i,n]}function u(t,e,a,i){return r.isFullCircle([e,a])?function(t,e){var a,r=e.length,i=new Array(r+1);for(a=0;a<r;a++){var n=e[a];i[a]=[t*Math.cos(n),t*Math.sin(n)]}return i[a]=i[0].slice(),i}(t,i):function(t,e,a,i){var l,u,d=i.length,h=[];function p(e){return[t*Math.cos(e),t*Math.sin(e)]}function f(t,e,a){return c(t,e,a,p(t))}function g(t){return r.mod(t,d)}function v(t){return o(t,[e,a])}var y=n(i,(function(t){return v(t)?s(t,e):1/0})),x=f(i[y],i[g(y-1)],e);for(h.push(x),l=y,u=0;u<d;l++,u++){var m=i[g(l)];if(!v(m))break;h.push(p(m))}var b=n(i,(function(t){return v(t)?s(t,a):1/0})),k=f(i[b],i[g(b+1)],a);return h.push(k),h.push([0,0]),h.push(h[0].slice()),h}(t,e,a,i)}function d(t){return Math.abs(t)>1e-10?t:0}function h(t,e,a){e=e||0,a=a||0;for(var r=t.length,i=new Array(r),n=0;n<r;n++){var o=t[n];i[n]=[e+o[0],a-o[1]]}return i}t.exports={isPtInsidePolygon:function(t,e,a,r,n){if(!o(e,r))return!1;var l,s;a[0]<a[1]?(l=a[0],s=a[1]):(l=a[1],s=a[0]);var c=i(u(l,r[0],r[1],n)),d=i(u(s,r[0],r[1],n)),h=[t*Math.cos(e),t*Math.sin(e)];return d.contains(h)&&!c.contains(h)},findPolygonOffset:function(t,e,a,r){for(var i=1/0,n=1/0,o=u(t,e,a,r),l=0;l<o.length;l++){var s=o[l];i=Math.min(i,s[0]),n=Math.min(n,-s[1])}return[i,n]},findEnclosingVertexAngles:function(t,e){var a=n(e,(function(e){var a=l(e,t);return a>0?a:1/0})),i=r.mod(a+1,e.length);return[e[a],e[i]]},findIntersectionXY:c,findXYatLength:function(t,e,a,r){var i=-e*a,n=e*e+1,o=2*(e*i-a),l=i*i+a*a-t*t,s=Math.sqrt(o*o-4*n*l),c=(-o+s)/(2*n),u=(-o-s)/(2*n);return[[c,e*c+i+r],[u,e*u+i+r]]},clampTiny:d,pathPolygon:function(t,e,a,r,i,n){return"M"+h(u(t,e,a,r),i,n).join("L")},pathPolygonAnnulus:function(t,e,a,r,i,n,o){var l,s;t<e?(l=t,s=e):(l=e,s=t);var c=h(u(l,a,r,i),n,o);return"M"+h(u(s,a,r,i),n,o).reverse().join("L")+"M"+c.join("L")}}},1470:function(t,e,a){"use strict";var r=a(846),i=a(856),n=a(871),o=a(1471),l=a(1049).getSubplotData,s=a(1045),c=a(1046),u=a(1047),d=a(1216),h=a(1217),p=a(1096),f=a(1230),g=a(1229),v=a(1121),y=v.axisNames;function x(t,e,a,o){var p=a("bgcolor");o.bgColor=i.combine(p,o.paper_bgcolor);var x=a("sector");a("hole");var b,k=l(o.fullData,v.name,o.id),w=o.layoutOut;function T(t,e){return a(b+"."+t,e)}for(var _=0;_<y.length;_++){b=y[_],r.isPlainObject(t[b])||(t[b]={});var A=t[b],M=n.newContainer(e,b);M._id=M._name=b,M._attr=o.id+"."+b,M._traceIndices=k.map((function(t){return t._expandedIndex}));var I=v.axisName2dataArray[b],S=m(A,M,T,k,I,o);d(A,M,T,{axData:k,dataAttr:I});var L,O,j=T("visible");switch(g(M,e,w),T("uirevision",e.uirevision),j&&(O=(L=T("color"))===A.color?L:o.font.color),M._m=1,b){case"radialaxis":var D=T("autorange",!M.isValidRange(A.range));A.autorange=D,!D||"linear"!==S&&"-"!==S||T("rangemode"),"reversed"===D&&(M._m=-1),T("range"),M.cleanRange("range",{dfltRange:[0,1]}),j&&(T("side"),T("angle",x[0]),T("title.text"),r.coerceFont(T,"title.font",{family:o.font.family,size:Math.round(1.2*o.font.size),color:O}));break;case"angularaxis":if("date"===S){r.log("Polar plots do not support date angular axes yet.");for(var R=0;R<k.length;R++)k[R].visible=!1;S=A.type=M.type="linear"}T("linear"===S?"thetaunit":"period");var F=T("direction");T("rotation",{counterclockwise:0,clockwise:90}[F])}if(j)s(A,M,T,M.type),u(A,M,T,M.type,{tickSuffixDflt:"degrees"===M.thetaunit?"\xb0":void 0}),c(A,M,T,{outerTicks:!0}),T("showticklabels")&&(r.coerceFont(T,"tickfont",{family:o.font.family,size:o.font.size,color:O}),T("tickangle"),T("tickformat")),h(A,M,T,{dfltColor:L,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f[b]}),T("layer");"category"!==S&&T("hoverformat"),M._input=A}"category"===e.angularaxis.type&&a("gridshape")}function m(t,e,a,r,i,n){var o=a("autotypenumbers",n.autotypenumbersDflt);if("-"===a("type")){for(var l,s=0;s<r.length;s++)if(r[s].visible){l=r[s];break}l&&l[i]&&(e.type=p(l[i],"gregorian",{noMultiCategory:!0,autotypenumbers:o})),"-"===e.type?e.type="linear":t.type=e.type}return e.type}t.exports=function(t,e,a){o(t,e,a,{type:v.name,attributes:f,handleDefaults:x,font:e.font,autotypenumbersDflt:e.autotypenumbers,paper_bgcolor:e.paper_bgcolor,fullData:a,layoutOut:e})}},1471:function(t,e,a){"use strict";var r=a(846),i=a(871),n=a(932).defaults;t.exports=function(t,e,a,o){var l,s,c=o.type,u=o.attributes,d=o.handleDefaults,h=o.partition||"x",p=e._subplots[c],f=p.length,g=f&&p[0].replace(/\d+$/,"");function v(t,e){return r.coerce(l,s,u,t,e)}for(var y=0;y<f;y++){var x=p[y];l=t[x]?t[x]:t[x]={},s=i.newContainer(e,x,g),v("uirevision",e.uirevision);var m={};m[h]=[y/f,(y+1)/f],n(s,e,v,m),o.id=x,d(l,s,v,o)}}},1472:function(t,e,a){"use strict";var r=a(846),i=a(912),n=a(1207),o=a(1208),l=a(1209),s=a(1210),c=a(1211),u=a(1048).PTS_LINESONLY,d=a(1231);function h(t,e,a,r){var i,n=r("r"),o=r("theta");if(n)o?i=Math.min(n.length,o.length):(i=n.length,r("theta0"),r("dtheta"));else{if(!o)return 0;i=e.theta.length,r("r0"),r("dr")}return e._length=i,i}t.exports={handleRThetaDefaults:h,supplyDefaults:function(t,e,a,p){function f(a,i){return r.coerce(t,e,d,a,i)}var g=h(t,e,p,f);if(g){f("thetaunit"),f("mode",g<u?"lines+markers":"lines"),f("text"),f("hovertext"),"fills"!==e.hoveron&&f("hovertemplate"),i.hasLines(e)&&(o(t,e,a,p,f),l(t,e,f),f("connectgaps")),i.hasMarkers(e)&&n(t,e,a,p,f,{gradient:!0}),i.hasText(e)&&(f("texttemplate"),s(t,e,p,f));var v=[];(i.hasMarkers(e)||i.hasText(e))&&(f("cliponaxis"),f("marker.maxdisplayed"),v.push("points")),f("fill"),"none"!==e.fill&&(c(t,e,a,f),i.hasLines(e)||l(t,e,f)),"tonext"!==e.fill&&"toself"!==e.fill||v.push("fills"),f("hoveron",v.join("+")||"points"),r.coerceSelectionMarkerOpacity(e,f)}else e.visible=!1}}},1473:function(t,e,a){"use strict";var r=a(846),i=a(864);t.exports=function(t,e,a){var n,o,l={},s=a[e.subplot]._subplot;s?(n=s.radialAxis,o=s.angularAxis):(n=(s=a[e.subplot]).radialaxis,o=s.angularaxis);var c=n.c2l(t.r);l.rLabel=i.tickText(n,c,!0).text;var u="degrees"===o.thetaunit?r.rad2deg(t.theta):t.theta;return l.thetaLabel=i.tickText(o,u,!0).text,l}},1474:function(t,e,a){"use strict";var r=a(861),i=a(873).BADNUM,n=a(864),o=a(1212),l=a(1109),s=a(940),c=a(1108).calcMarkerSize;t.exports=function(t,e){for(var a=t._fullLayout,u=e.subplot,d=a[u].radialaxis,h=a[u].angularaxis,p=d.makeCalcdata(e,"r"),f=h.makeCalcdata(e,"theta"),g=e._length,v=new Array(g),y=0;y<g;y++){var x=p[y],m=f[y],b=v[y]={};r(x)&&r(m)?(b.r=x,b.theta=m):b.r=i}var k=c(e,g);return e._extremes.x=n.findExtremes(d,p,{ppad:k}),o(t,e),l(v,e),s(v,e),v}},1475:function(t,e,a){"use strict";var r=a(1213),i=a(873).BADNUM;t.exports=function(t,e,a){for(var n=e.layers.frontplot.select("g.scatterlayer"),o={xaxis:e.xaxis,yaxis:e.yaxis,plot:e.framework,layerClipId:e._hasClipOnAxisFalse?e.clipIds.forTraces:null},l=e.radialAxis,s=e.angularAxis,c=0;c<a.length;c++)for(var u=a[c],d=0;d<u.length;d++){var h=u[d],p=h.r;if(p===i)h.x=h.y=i;else{var f=l.c2g(p),g=s.c2g(h.theta);h.x=f*Math.cos(g),h.y=f*Math.sin(g)}}r(t,o,a,n)}},1476:function(t,e,a){"use strict";var r=a(1214);function i(t,e,a,r){var i=a.radialAxis,n=a.angularAxis;i._hovertitle="r",n._hovertitle="\u03b8";var o={};o[e.subplot]={_subplot:a};var l=e._module.formatLabels(t,e,o);r.rLabel=l.rLabel,r.thetaLabel=l.thetaLabel;var s=t.hi||e.hoverinfo,c=[];function u(t,e){c.push(t._hovertitle+": "+e)}if(!e.hovertemplate){var d=s.split("+");-1!==d.indexOf("all")&&(d=["r","theta","text"]),-1!==d.indexOf("r")&&u(i,r.rLabel),-1!==d.indexOf("theta")&&u(n,r.thetaLabel),-1!==d.indexOf("text")&&r.text&&(c.push(r.text),delete r.text),r.extraText=c.join("<br>")}}t.exports={hoverPoints:function(t,e,a,n){var o=r(t,e,a,n);if(o&&!1!==o[0].index){var l=o[0];if(void 0===l.index)return o;var s=t.subplot,c=l.cd[l.index],u=l.trace;if(s.isPtInside(c))return l.xLabelVal=void 0,l.yLabelVal=void 0,i(c,u,s,l),l.hovertemplate=u.hovertemplate,o}},makeHoverPointText:i}},1512:function(t,e,a){"use strict";a.r(e);var r=a(2),i=a(7),n=a(0),o=a.n(n),l=a(20),s=a(3),c=a.n(s),u=a(902),d=a.n(u),h=a(1465),p=a.n(h),f=a(8),g=a(36),v=a(151),y=a.n(v),x=a(23),m=a(73),b=function(t){return t.map((function(t){return t.r&&t.r.length>0&&t.r.push(t.r[0]),t.theta&&t.theta.length>0&&t.theta.push(t.theta[0]),t}))};function k(t){var e=t.cube,a=t.data,r=t.metaData,n=t.widgetState,o=n.colors,s=n.isTextVisible,c=n.mapping,u=n.opacity,d=void 0===u?1:u;if(!e||!a||!r)return[];var h={},p=r.orderedAxis,f=c.values.length>0,g=p.captions.length>0,v={},m={mapping:{},numberOfUsedAutomaticColors:0},k=function(t){var e=t.splitBy,a=Object(l.q)([].concat(Object(i.a)(e),Object(i.a)(t.horizontalSubplots),Object(i.a)(t.verticalSubplots)));if(!h[a]){var n=function(t,e){var a=c.values.length,i=Object(l.r)(e,a);return{_key:t,hoverinfo:"none",legendgroup:i,line:{color:Object(l.p)({accumulator:m,colorway:r.colorway,colors:o,traceName:i})},name:i,cellsIndices:y()(new Array(p.captions.length),null),axisIndices:y()(new Array(p.captions.length),null),type:"scatterpolar",fill:"toself",theta:g?p.captions:[""],r:g?y()(new Array(p.captions.length),null):[null],text:[],opacity:d}}(a,e);h[a]=n,v[a]=0}return h[a]};Object(x.g)(a,r.hierarchyIndicesInCellSet,(function(t){var e=t.cell,a=t.cellIndex,i=t.columnIndex,n=t.tuple,o=t.rowIndex,u=Object(l.m)(n,r.levelIndicesPerField,c,r.attributesRedirection),d=k(u),h=u.axis,y=Object(l.t)(h),x=g?p.members[y]:0;g&&(d.axisIndices[x]=v[d._key],v[d._key]++),f&&(d.r[x]=e.value),s&&(d.text[x]=e.formattedValue,d.mode="text+lines+markers",d.textposition="top center"),d.cellsIndices[x]=[{columnIndex:i,rowIndex:o,cellIndex:a}]}));var w=Object.values(h);w.forEach((function(t){var e;null===(e=t.axisIndices)||void 0===e||e.push(0)}));var T=Object(l.v)({traces:b(w),subplotsMetaData:r.subplots});return function(t,e){var a=e.vertical.keys.length;t.forEach((function(t){var r=e.horizontal.keys.findIndex((function(e){return t._key.includes(e)})),i=e.vertical.keys.findIndex((function(e){return t._key.includes(e)}))+1,n=r+1;a>0&&(n=(r>-1?r:0)*a+i);t.subplot="polar".concat(n)}))}(T,r.subplots),Object(l.w)(T),T}var w=function(t,e){if(!t)return{};var a=t.subplots.horizontal.keys.length>0||t.subplots.vertical.keys.length>0;return Object(m.b)(Object(r.a)(Object(r.a)({},a&&{grid:{ygap:.5,xgap:.5}}),{},{margin:{r:60},polar:{bgcolor:e.backgroundColor,radialaxis:{color:Object(g.e)(e.textColor,.25)}}}),function(t,e){for(var a=t.vertical.keys.length,r=t.horizontal.keys.length,i=r>0,n=a>0,o=i&&n?r*a:r+a,l={},s=1;s<=o;s++){var c=i?Math.ceil((s-r)/r):s-1,u=i?(s-1)%r:s;l["polar".concat(s)]={bgcolor:e.backgroundColor,radialaxis:{color:Object(g.e)(e.textColor,.25)},domain:{row:n?c:0,column:i?u:0}}}return l}(t.subplots,e),Object(l.l)(t.subplots))};d.a.register(p.a);var T=Object(l.D)(Object(l.C)(Object(n.memo)((function(t){var e=t.cube,a=t.data,r=t.metaData,i=t.widgetState,s=t.onLoaded,u=Object(n.useMemo)((function(){return Object(f.v)(null===i||void 0===i?void 0:i.mapping)}),[null===i||void 0===i?void 0:i.mapping]);Object(l.A)({isEmpty:u,onLoaded:s});var d=Object(n.useMemo)((function(){return k({cube:e,data:a,metaData:r,widgetState:i})}),[e,a,r,i]),h=Object(g.g)(),p=Object(n.useMemo)((function(){return w(r,h)}),[r,h]);return e&&a&&r&&!u?o.a.createElement(l.d,c()({},t,{traces:d,layout:p,cube:e,data:a,metaData:r})):o.a.createElement(l.a,null)}))));e.default=T}}]);